<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Jangler Music</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:Arial;
color:white;
overflow-y:auto; /* ‚Üê scroll activado */
}

/* FONDO ANIMADO */
.fondo{
position:fixed;
width:100%;
height:100%;
background:linear-gradient(270deg,#0f0c29,#302b63,#24243e);
background-size:600% 600%;
animation:gradient 15s ease infinite;
z-index:-3;
}

@keyframes gradient{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

/* VISUALIZADOR */
canvas{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
z-index:-2;
pointer-events:none;
}

.overlay{
background:rgba(0,0,0,.6);
min-height:100vh;
padding:20px;
padding-bottom:80px;
}

h1{text-align:center;margin-bottom:20px}

.categoria{margin-top:25px}
.categoria h2{border-bottom:1px solid #555;margin-bottom:10px}

.cancion{
padding:8px;
margin:4px 0;
cursor:pointer;
border-radius:6px;
transition:.25s;
}

.cancion:hover{
background:#1db954;
transform:scale(1.05);
}

.reproductor{
position:fixed;
bottom:0;
left:0;
width:100%;
background:#111;
padding:10px;
}
</style>
</head>

<body>

<div class="fondo"></div>
<canvas id="visualizer"></canvas>

<div class="overlay">

<h1>üéµ Jangler Music üéµ</h1>

<div class="categoria">
<h2>Rap</h2>

<div class="cancion" data-src="music/rap/y-entonces-me-acorde.mp3">y-entonces-me-acorde</div>

<div class="cancion" data-src="music/rap/algun-dia.mp3">algun-dia</div>
<div class="cancion" data-src="music/rap/apasionado.mp3">apasionado</div>
<div class="cancion" data-src="music/rap/asi-es-esto.mp3">asi-es-esto</div>
<div class="cancion" data-src="music/rap/callen-la-boca.mp3">callen-la-boca</div>
<div class="cancion" data-src="music/rap/cansado-pero-pa-lante.mp3">cansado-pero-pa-lante</div>
<div class="cancion" data-src="music/rap/crudo.mp3">crudo</div>
<div class="cancion" data-src="music/rap/ellos-hablan-de-mi.mp3">ellos-hablan-de-mi</div>
<div class="cancion" data-src="music/rap/felices-navidades.mp3">felices-navidades</div>
<div class="cancion" data-src="music/rap/guerreando.mp3">guerreando</div>
<div class="cancion" data-src="music/rap/heridas-que-no-sanan.mp3">heridas-que-no-sanan</div>
<div class="cancion" data-src="music/rap/la-envidia.mp3">la-envidia</div>
<div class="cancion" data-src="music/rap/la-calle.mp3">la-calle</div>
<div class="cancion" data-src="music/rap/la-lealtad-de-un-amigo.mp3">la-lealtad-de-un-amigo</div>
<div class="cancion" data-src="music/rap/la-presion.mp3">la-presion</div>
<div class="cancion" data-src="music/rap/mi-respaldo.mp3">mi-respaldo</div>
<div class="cancion" data-src="music/rap/moviendome-en-lo-absurdo.mp3">moviendome-en-lo-absurdo</div>
<div class="cancion" data-src="music/rap/nadie-corre.mp3">nadie-corre</div>
<div class="cancion" data-src="music/rap/parodia.mp3">parodia</div>
<div class="cancion" data-src="music/rap/si-no-te-cuesta-no-es-tuyo.mp3">si-no-te-cuesta-no-es-tuyo</div>
<div class="cancion" data-src="music/rap/sonando-la-campana.mp3">sonando-la-campana</div>
<div class="cancion" data-src="music/rap/su-misericordia-me-cubre.mp3">su-misericordia-me-cubre</div>
<div class="cancion" data-src="music/rap/vale-la-pena.mp3">vale-la-pena</div>
<div class="cancion" data-src="music/rap/venganza.mp3">venganza</div>
<div class="cancion" data-src="music/rap/yo-si-la-sufro.mp3">yo-si-la-sufro</div>

</div>

</div>

<div class="reproductor">
<audio id="player" controls style="width:100%"></audio>
</div>

<script>
const canvas=document.getElementById("visualizer");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

const audio=document.getElementById("player");
const audioCtx=new AudioContext();
const source=audioCtx.createMediaElementSource(audio);
const analyser=audioCtx.createAnalyser();

source.connect(analyser);
analyser.connect(audioCtx.destination);

analyser.fftSize=256;
const bufferLength=analyser.frequencyBinCount;
const dataArray=new Uint8Array(bufferLength);

function draw(){
requestAnimationFrame(draw);
analyser.getByteFrequencyData(dataArray);

ctx.fillStyle="rgba(0,0,0,0.2)";
ctx.fillRect(0,0,canvas.width,canvas.height);

let barWidth=(canvas.width/bufferLength)*2;
let x=0;

for(let i=0;i<bufferLength;i++){
let barHeight=dataArray[i];
ctx.fillStyle=`rgb(${barHeight+100},50,200)`;
ctx.fillRect(x,canvas.height-barHeight,barWidth,barHeight);
x+=barWidth+1;
}
}

draw();

document.querySelectorAll(".cancion").forEach(c=>{
c.addEventListener("click",()=>{
audioCtx.resume();
audio.src=c.dataset.src;
audio.play();
});
});
</script>

</body>
</html>
