<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Jangler Music</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:Arial;
background:#0f0f0f;
color:white;
overflow:hidden;
}

/* Fondo degradado suave tipo YouTube Music */
body::before{
content:"";
position:fixed;
width:100%;
height:100%;
background:radial-gradient(circle at top,#330000,#000);
z-index:-2;
}

/* Canvas visualizador */
canvas{
position:fixed;
top:0;left:0;
width:100%;height:100%;
z-index:-1;
opacity:.35;
}

/* Contenedor principal */
.overlay{
min-height:100vh;
padding:30px;
overflow:auto;
backdrop-filter:blur(6px);
}

/* Header */
h1{
text-align:center;
margin-bottom:20px;
color:#ff0033;
letter-spacing:2px;
}

/* Tarjeta estilo app */
.panel{
background:#181818;
border-radius:12px;
padding:20px;
box-shadow:0 0 20px #000;
}

/* Canciones */
.cancion{
padding:12px;
margin:6px 0;
border-radius:8px;
cursor:pointer;
transition:.25s;
background:#202020;
}

.cancion:hover{
background:#ff0033;
transform:scale(1.03);
}

/* Reproductor inferior */
.reproductor{
position:fixed;
bottom:0;left:0;
width:100%;
background:#111;
padding:12px;
border-top:1px solid #222;
}
</style>
</head>

<body>

<canvas id="visual"></canvas>

<div class="overlay">

<h1>Jangler Music</h1>

<div class="panel">

<div class="cancion" data-src="music/rock/cicatrices-en-marcha.mp3">cicatrices-en-marcha</div>
<div class="cancion" data-src="music/rock/hierro-en-la-sangre.mp3">hierro-en-la-sangre</div>
<div class="cancion" data-src="music/rock/juan-3-16.mp3">juan-3-16</div>
<div class="cancion" data-src="music/rock/la-voz-de-cemento.mp3">la-voz-de-cemento</div>
<div class="cancion" data-src="music/rock/salmo-23.mp3">salmo-23</div>
<div class="cancion" data-src="music/rock/slow.mp3">slow</div>

</div>

</div>

<div class="reproductor">
<audio id="player" controls style="width:100%"></audio>
</div>

<script>
const canvas=document.getElementById("visual");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

const audio=document.getElementById("player");
const audioCtx=new AudioContext();
const source=audioCtx.createMediaElementSource(audio);
const analyser=audioCtx.createAnalyser();
source.connect(analyser);
analyser.connect(audioCtx.destination);

analyser.fftSize=256;
const bufferLength=analyser.frequencyBinCount;
const dataArray=new Uint8Array(bufferLength);

function draw(){
requestAnimationFrame(draw);
analyser.getByteFrequencyData(dataArray);

ctx.fillStyle="rgba(0,0,0,0.25)";
ctx.fillRect(0,0,canvas.width,canvas.height);

let barWidth=(canvas.width/bufferLength)*2;
let x=0;

for(let i=0;i<bufferLength;i++){
let h=dataArray[i];
ctx.fillStyle=`rgb(${h+100},0,50)`;
ctx.fillRect(x,canvas.height-h,barWidth,h);
x+=barWidth+1;
}
}
draw();

document.querySelectorAll(".cancion").forEach(c=>{
c.addEventListener("click",()=>{
audioCtx.resume();
audio.src=c.dataset.src;
audio.play();
});
});
</script>

</body>
</html>
